<!-- Generated by @talon/sip. Update this documentation by updating the source code. -->

# @talon/git-conventions

> conventional commits and semantic tags

**Table of Contents**

<!-- toc -->

- [commit](#commit)
- [bump](#bump)

<!-- tocstop -->

## commit

Create a conventionally formatted commit

```sh
git-conventions commit
git-conventions commit --sources packages # for monorepos
```

[The Conventional Commits specification][1] is a lightweight convention on top of commit messages. It provides an easy set of rules for creating an explicit commit history; which makes it easier to write automated tools on top of. This convention dovetails with SemVer, by describing the features, fixes, and breaking changes made in commit messages.

```js
import {format} from "./lib/commit"
describe("format", () => {
```

Commits MUST be prefixed with a type, which consists of a noun, feat, fix, etc. followed by a [...] REQUIRED terminal colon and space.

A description MUST immediately follow the colon and space after the type/scope prefix. The description is a short summary of the code changes

```js
it("formats commits conventionally", () => {
  expect(
    format({
      type: "feat",
      description: "improve stuff"
    })
  ).toBe("feat: improve stuff")
})
```

A scope MAY be provided after a type. A scope MUST consist of a noun describing a section of the codebase surrounded by parenthesis

```js
it("handles optional scopes", () => {
  expect(
    format({
      type: "feat",
      scope: "sip",
      description: "improve stuff"
    })
  ).toBe("feat(sip): improve stuff")
})
```

A longer commit body MAY be provided after the short description, providing additional contextual information about the code changes

A commit body is free-form and MAY consist of any number of newline separated paragraphs.

```js
it("handles optional body", () => {
  expect(
    format({
      type: "feat",
      description: "improve stuff",
      body: "you would not believe it\ncause that's what we do"
    })
  ).toBe(
    `feat: improve stuff\n\nyou would not believe it\ncause that's what we do`
  )
})
```

One or more footers MAY be provided one blank line after the body.

```js
  it("handles optional footer", () => {
    expect(format({
      type: "feat",
      description: "improve stuff",
      footer: {
        "Reviewed-by": "talon",
        "affects": "git-conventions"
      }
    })).toBe(`feat: improve stuff\n\nReviewed-by: talon\naffects: git-conventions`)
  })
})
```

### Parameters

- `options` **[object][2]** Extend the base convention
  - `options.types` **[Array][3]&lt;[string][4]>?** the available commit types
  - `options.footers` **[Array][3]&lt;[Function][5]>?** include footer information

Returns **[Promise][6]&lt;[string][4]>** a conventionally formatted commit message

## bump

Apply [Semantically Versioned][7] tags derived from the Conventional Commit history

```sh
git-conventions bump
git-conventions bump --sources packages # for monorepos
```

> The version is calculated by [conventional-recommended-bump][8] using the Angular preset

### Parameters

- `sources` **[string][4]** what sources to operate on in a monorepo

Returns **[Promise][6]&lt;[Array][3]&lt;[string][4]>>** the tag(s) to apply to the repo

[1]: https://www.conventionalcommits.org/en/v1.0.0
[2]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object
[3]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array
[4]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String
[5]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function
[6]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise
[7]: https://semver.org
[8]: https://github.com/conventional-changelog/conventional-changelog/tree/master/packages/conventional-recommended-bump
