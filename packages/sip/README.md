<!-- Generated by @talon/sip. Update this documentation by updating the source code. -->

# @talon/sip

> Sip is a suite of Gulp tasks that make developing JavaScript less painful üïä

**Table of Contents**

<!-- toc -->

- [Sip](#sip)
- [setup](#setup)
- [test](#test)
- [develop](#develop)
- [build](#build)

<!-- tocstop -->

## Sip

In three simple Gulp tasks Sip will drive your JavaScript development to new productive heights! üìà

Type: [object][1]

### Properties

- `test` **TaskFunction** check dependencies, check types, generate a README and run Jest
- `develop` **TaskFunction** all the above and also watch for changes
- `build` **TaskFunction** all the above and also formats your files and compiles your `lib` into `dist` with Babel

## setup

`Sip.setup` will return an object of Tasks that you can use in your `gulpfile.js` ü•Ç

    import * as Sip from "@talon/sip"

    // for individual projects you can use the __dirname as the root
    Object.assign(exports, Sip.setup(__dirname))

    // lerna exec provides LERNA_PACKAGE_NAME as an environment variable
    const pkg = process.env.LERNA_PACKAGE_NAME.split("/").slice(-1)

    // which can be used to apply the package root for each package on the fly
    Object.assign(exports, Sip.setup(`${__dirname}/packages/${pkg}`))

### Parameters

- `root` **[string][2]** the root path of the package to operate on

Returns **[Sip][3]** initalized Gulp tasks

## test

- ‚úÖ adds and removes dependencies from `package.json` as they are used in `lib` using [depcheck][4]
- ‚úÖ lints `lib` for [JSDoc comments][5], fixes what it can automatically
- ‚úÖ typechecks `lib` from the JSDoc comments using [TypeScript][6]
- ‚úÖ generates a README from the `lib` JSDoc comments with [documentation.js][7]
- ‚úÖ runs Jest
  - with [@talon/lit][8] you can test your README

```js
describe("readme driven development", () => {
  it("is lit! üî•", () => expect(true).toBeTruthy())
})
```

You can [configure documentation.js][9] to tweak the README generation and/or also [configure Jest][10] as you please

ESLint is used as part of the JSDoc typechecker, you can [override the rules][11] with your own [`eslintrc` file][12]

### Parameters

- `root` **[string][2]** the root path of the package to operate on
- `options` **[object][1]** task options
  - `options.fix` **[boolean][13]** whether or not to write changes for automatically fixable issues

Returns **TaskFunction** the initialized gulp task

## develop

Everything that `test` does but also watches `lib` and runs again on file changes üëÄ

**Note**: automatic JSDoc fixing is turned off to avoid infinite looping of this task.

### Parameters

- `root` **[string][2]** the root path of the package to operate on

Returns **TaskFunction** the initialized gulp task

## build

Everything that `test` does and _also_ formats your code then compiles it with Babel to `dist`

[Babel may be configured][14] in many ways and/or if you have [prettier preferences][15] they can be configured as well

**this is the one you run in CI** üîÅ

### Parameters

- `root` **[string][2]** the root path of the package to operate on

Returns **TaskFunction** the initialized gulp task

[1]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object
[2]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String
[3]: #sip
[4]: https://github.com/depcheck/depcheck
[5]: https://jsdoc.app/
[6]: https://www.typescriptlang.org/docs/handbook/type-checking-javascript-files.html#supported-jsdoc
[7]: https://documentation.js.org/
[8]: https://github.com/talon/javascript-registry/packages/92916
[9]: https://github.com/documentationjs/documentation/blob/master/docs/CONFIG.md
[10]: https://jestjs.io/docs/en/configuration
[11]: https://www.npmjs.com/package/eslint-plugin-jsdoc#eslint-plugin-jsdoc-rules
[12]: https://eslint.org/docs/user-guide/configuring
[13]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean
[14]: https://babeljs.io/docs/en/configuration
[15]: https://prettier.io/docs/en/configuration.html
