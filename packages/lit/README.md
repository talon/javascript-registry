<!-- Generated by @talon/sip. Update this documentation by updating the source code. -->

# @talon/lit

> ðŸ”¥ literate programming with Markdown and JavaScript

**Table of Contents**

<!-- toc -->

- [babel](#babel)
- [lit](#lit)

<!-- tocstop -->

## babel

Add it to `plugins` in your babel config

The `files` regex is used to determine what files are literate. The default matches any file with a `.md` extension

```json
{
  "babel": {
    "plugins": [
      [
        "./node_modules/@talon/lit/lib/babel.js",
        {
          "files": ".*\\.md$"
        }
      ]
    ]
  }
}
```

You'll have to tell jest about markdown files you want to test

```json
{
  "jest": {
    "moduleFileExtensions": ["md", "js", "ts", "jsx", "tsx"],
    "testRegex": "(README|.+\\.(test|spec|usage))\\.([jt]sx?|md)$",
    "transform": {
      "^.+\\.([jt]sx?|md)$": "babel-jest"
    }
  }
}
```

Currently only `js` blocks are supported. With a little engineering magic it could probably support
[the same syntaxes as the @babel/parser][1]
PRs welcome ðŸ˜‰

## lit

Convert a markdown string with JS code blocks into executable code.

```js
import lit from "./lib"
import { readFileSync } from "fs"
import { resolve } from "path"

test("examples/simple", () => {
  expect(
    lit(
      readFileSync(resolve(__dirname, "./examples/simple/literate.md"), "utf8")
    )
  ).toBe(
    readFileSync(resolve(__dirname, "./examples/simple/illiterate.js"), "utf8")
  )
})
```

### Parameters

- `markdown` **[string][2]** some markdown with JS code blocks

Returns **[string][2]** code an executable JS file of the stripped code blocks

[1]: https://babeljs.io/docs/en/babel-parser#language-extensions
[2]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String
