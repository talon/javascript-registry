# @talon/route
> encode/decode [Objects](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object) to/from [URLs](https://developer.mozilla.org/en-US/docs/Web/API/URL)

# Why?

A _lot_ of libraries use a syntax to represent URLs I have here dubbed `Route`.
I'm also prone to blindness but I couldn't find a do-one-thing-well solution for handling this syntax.

```
"/a/URL/has/pathname?and='a search'"
```
> a URL has pathname a search

- parameters build up the [pathname](https://developer.mozilla.org/en-US/docs/Web/API/URL/pathname) 
They are _positional_ meaning their order matters.
The `Route` syntax allows you to `:key` these positional parameters.

- [search](https://developer.mozilla.org/en-US/docs/Web/API/URL/search) represents the metadata of the URL.
Unlike parameters querystrings are already _keyed values_. 

Much like how [Objects](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object) represent data, so do [URLs](https://developer.mozilla.org/en-US/docs/Web/API/URL)

This library enables developers to smoothly convert from one format to the other.

```js
{id: "123", bio: true} === Route.decode(
  "/api/v1/:id/accounts",
  "/api/v1/123/accounts?bio=true"
)

"/api/v1/123/accounts?bio=true" === Route.withQuery(
  "/api/v1/:id/accounts", 
  {id: "123", bio: true}
)
```

# API

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

- [encode](#encode)
  - [Parameters](#parameters)
  - [Examples](#examples)
- [withQuery](#withquery)
  - [Parameters](#parameters-1)
  - [Examples](#examples-1)
- [decode](#decode)
  - [Parameters](#parameters-2)
  - [Examples](#examples-2)

## encode

encode data into a route

### Parameters

- `route` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** a route `/with/:params`
- `data` **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** keys will replace the `/path/:param`

### Examples

```javascript
const [path, data] = Route.encode("/api/v1/:id/items/:name", {
  id: 1,
  name: "keyboard",
  limit: 20
});
```

Returns **[array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)** `[path, data]` lefover data is returned as the second element in the array

## withQuery

encode data into a route, include the querystring

### Parameters

- `route` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** a route `/with/:params`
- `data` **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** keys will replace the `/path/:param`

### Examples

```javascript
const path = Route.withQuery("/api/v1/:id/items/:name", {
  id: 1,
  name: "keyboard",
  limit: 20
});
```

Returns **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** `path` including the querystring

## decode

decode data from a path

### Parameters

- `route` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** a route `/with/:params`
- `path` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** from which to extract `data`

### Examples

```javascript
const { id, name, limit } = Route.decode(
  "/api/v1/:id/items/:name",
  "/api/v1/1/items/keyboard?limit=20"
);
```

Returns **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** the `data` extracted from `path`
